{% extends "base.html" %}
{% block title %} Cargos {% endblock %}
{% block content %}
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <div class="card">
        <div class="card-header">
            <p>
                <a class="btn btn-dark" asp-action="Create">Crear Nuevo Cargo</a>
            </p>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table id="tbdata" class="table">
                    <thead>
                        <tr>
                            <th>
                                Cargo
                            </th>
                            <th>
                                Departamento
                            </th>
                            <th>
                                Estado
                            </th>
                            <th>
                                Fecha Registro
                            </th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for cargo in cargos %}
                    <tr>
                        <td>{{ cargo.nombre_cargo }}</td>
                        <td>{{ cargo.departamento.nom_departamento}}</td>
                        <td>
                            {% if cargo.estado %}
                            Activo
                            {% else %}
                            Inactivo
                            {% endif %}
                        </td>
                        <td>{{ cargo.fecha_registro }}</td>
                        <td>
                            <a asp-action="Edit" class="btn-exportar-excel" asp-route-id="@cargo.Id">Editar</a> |
                            <a asp-action="Details" class="btn-exportar-print" asp-route-id="@cargo.Id">Detalle</a> |
                            <a asp-action="Delete" class="btn-exportar-pdf" asp-route-id="@cargo.Id"> Borrar</a>
                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('#tbdata').DataTable({
            "language":{
                url:"https://cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"
            },
            dom:"Bfrtip",
            buttons:[
                {
                    extend: "excelHtml5",
                    text:"Exportar Excel",
                    filename:"Reporte Del Los Cargos ",
                    title:"",
                    exportOptions:{
                        columns:[0,1,2,3]
                    },
                    className:"btn-exportar-excel"
                },
                {
                    extend: "pdfHtml5",
                    text:"Exportar PDF",
                    filename:"Reporte Del Los Cargos",
                    title:"",
                    exportOptions:{
                        columns:[0,1,2,3]
                    },
                    className:"btn-exportar-pdf"
                },
                {
                    extend: "print",
                    title:"",
                    exportOptions:{
                        columns:[0,1,2,3]
                    },
                    className:"btn-exportar-print"
                },
                "pageLength"
            ]
        });
    });
</script>
{% endblock %}
